## User 用户接口

+ 用户接口实现用户的基本管理，包括用户的登录与注册，用户的重复名检测

+ 请求地址: /user

### 1、Register 注册

+ 描述：用户注册接口，实现管理员账号注册于子账号注册
+ 前端：提交注册前需要验证输入信息是否有误两次密码是否一致
+ 后端：提交后需要二次验证，验证用户名是否有重复，密码加密后存放

#### Request

1. 请求地址：/register

2. 请求方式：POST

#### Accept_Params

|字段名称 | 类型 | 说明|
|---|---|---|
|name|String|用户名，用户登录名
|password|type|用户密码，用户登录密码
|e_mail|String|用户的邮箱
|type|String|创建的类型，0表示管理员、1表示子账号

#### Result_Params

##### 相应类型：String

##### 响应体

``` javascript
{
    "status":"[code]",
    "title":"user/register",
    "data":""
}
```

##### 状态码

|码值|描述|
|---|---|
|200|注册成功|
|501|用户名重复|
|555|请求方法错误|

##### 字典data: null

#### Dependencies

|依赖对象|依赖说明|
|---|---|
|session|创建子账号时拥有权限的用户登录状态，创建管理员则不需要登录状态|

### 2、Login 登录

+ 描述：实现账号的登录，可以包括主账号与子账号
+ 前端：登录失败是提示对应的错误，登录成功后跳转到文件主页面
+ 后端：登录失败返回相应的错误（用户名或密码不一致、其他错误），登录成功将用户信息存入session、返回正确标识

#### Request

1. 请求地址：/login

2. 请求方式： POST

#### Accept_Params

|字段名称 | 类型 | 说明|
|---|---|---|
|name|String|登录用户名
|password|String|登录密码

#### Result_Params

##### 响应类型：string

##### 响应体

``` javascript
{
    "status":"[code]",
    "title":"/user/login",
    "data":""
}
```

##### 状态码

|码值|描述|
|---|---|
|200|登录成功执行跳转|
|501|用户名或密码错误|
|502|ip不可用|
|555|请求参数错误|

##### 字典 null

#### Dependencies

|依赖对象|依赖说明|
|---|---|
|session|登录成功后需要将用户Model信息存入session中，用于确保用户的登录状态|

### 3、CheckRepeat 检测用户名或邮箱是否重复 

+ 描述：在注册过程中检测用户名或邮箱是否为重复的
+ 前端：当用户输入完信息后检测用户名或者邮箱是否是重复的，只有在输入完成后才发出请求
+ 后端：收到请求后再数据库中查找，并且将是否重复通过状态码返回到前端，减少web开销

#### Request

1. 请求地址：/checkrepeat

2. 请求方式：POST

#### Accept_Params

|字段名称|类型|说明
|---|---|---|
|value|String|需要查找的值
|type|int|需要判断的类型，0为用户名1为邮箱

#### Result_Params

##### 响应类型：dict

##### 响应体

``` javascript
{
    "status":"[code]",
    "title":"user/checkrepeat",
    "data":{
        "type":0
    }
}
```

##### 状态码

|码值|说明|
|---|---|
|200|没有重复|
|500|发生重复|
|555|请求方法错误|

##### 字典

|字段名称|类型|说明|
|---|---|---|
|type|int|当前发生重复的类型，0为用户名1为邮箱|

#### Dependencies

null
